# CSA_HW1
ИДЗ №1 по дисциплине "Архитектура вычислительный систем"
# Информация о программе и тестах.
# Рефакторинг кода.
удалил бесполезную часть с конца файла
убрал бесполезную работу когда сначала кладут в rax потом в rsi из rax, я стал класть сразу в rax
во время больших циклов клал i в регистры вместо того чтобы каждый раз дергать из стека так как длина нашего массива до 10 то при вводе и выводе я не клал i в регистр, потому что это бессмысленно, это сэкономит почти ничего. А в самой функции countArrayB я положил j в регистр а также в цикле вокруг функции я стал использовать регистры r14d = length (-52[rbp] in main) r15d = i. (-4[rbp] in main) rbx = j (-4[rbp] in countArrayB) r13d = length (-20[rbp] in countArrayB) это улучшило производительность в 2 раза примерно. То есть я использовал регистры вместо обращения к стеку как нужндо для 6 баллов.
убрал бесполезные строки когда в регистр записывается значение которое там уже было и не могло измениться
оптимизировал цикл вычисление массива B. Там дважды брали значение из стека одно и тоже (значение из массива А). я сделал так что берем один раз и сохраняем в регистры. Это улучшило производительность в 1.5 раза примерно. Более подробно можете посмотреть в исходном s файле и после моего рефакторинга.
# Соответсвие переменных программы адресами стека.
1. -68[pbp] = argc
2. -72[rbp] = argv[1]
3. -80[rbp] = argv[0]
4. -52[rbp] = length
5. -4[rbp] = i
6. -16[rbp] = input
6. -24[rbp] = start
7. -32[rbp] = end
8. -40[rbp] = time_spent
9. -48[rbp] = output
